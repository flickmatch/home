import{a as i,E as s,G as D,j as t}from"./index.a525f6e3.js";import{r as P,i as w,a as b,F as p,B as o,T as r,b as O}from"./App.a324eafc.js";import{d as $,a as E}from"./RoundedCornerOutlined.624c11ab.js";import{u as H,M as z,H as W,F as G}from"./Header.f819a844.js";import{q as R}from"./constants.521cb428.js";import{e as U,S as V,T as m}from"./TextField.088dea9a.js";import{M as J}from"./MenuItem.45e68cdb.js";import"./index.34a1a8a2.js";import"./index.module.325f48be.js";var u={},Q=w.exports;Object.defineProperty(u,"__esModule",{value:!0});var f=u.default=void 0,K=Q(P()),X=b,Y=(0,K.default)((0,X.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance");f=u.default=Y;const Z="_container_hdpic_1",ee="_portraitContainere_hdpic_2",te="_title_hdpic_16",ae="_divider_hdpic_22",ie="_fieldTitle_hdpic_30",se="_fieldTitleIcon_hdpic_36",oe="_sectionFirst_hdpic_43",ne="_sectionSecond_hdpic_44",re="_sectionThird_hdpic_45",ce="_formSection_hdpic_49",le="_selectInput_hdpic_55",de="_sectionFourth_hdpic_63",he="_createButton_hdpic_70",a={container:Z,portraitContainere:ee,title:te,divider:ae,fieldTitle:ie,fieldTitleIcon:se,sectionFirst:oe,sectionSecond:ne,sectionThird:re,formSection:ce,selectInput:le,sectionFourth:de,createButton:he},ue="https://service.flickmatch.in/platform-0.0.1-SNAPSHOT/graphql",pe="https://service.flickmatch.in:8443/platform-0.0.1-SNAPSHOT/graphql";function Ce(){const _=H(),[g,T]=i.exports.useState(!1),[c,v]=i.exports.useState(""),[l,N]=i.exports.useState(""),[d,S]=i.exports.useState(""),[y,I]=i.exports.useState([]);i.exports.useEffect(()=>{localStorage.getItem("userData")&&T(!0)},[]),i.exports.useEffect(()=>{const e=new AbortController,h=e.signal;return(async()=>{try{const A=await(await fetch(pe,{method:"POST",signal:h,headers:{"Content-Type":"application/json"},body:R})).json();I(A.data.cities)}catch(n){n instanceof Error&&n.name==="TypeError"&&console.log(n.message)}})(),()=>{e.abort()}},[]);const C=e=>{v(e.target.value)},x=e=>{N(e.target.value)},F=e=>{S(e.target.value)},M={input:{cityId:c,displayName:l,googleMapsLink:d,stripePaymentLinks:[]}},k=()=>{fetch(ue,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`mutation {
            createSportsVenue(
                  input: {
                      cityId: "${c}"
                      displayName: "${l}"
                      googleMapsLink: "${d}"
                      stripePaymentLinks: []
                  }
              ) {
                isSuccessful
                errorMessage
              }
          }`,variables:M.input})}).then(e=>e.json()).then(e=>{if(e.errors)throw new Error(e.errors[0].message);console.log(e.data)}).catch(e=>{console.log(e)})},L=()=>s(o,{className:a.sectionFirst,children:[t(r,{className:a.fieldTitle,children:"City Name"}),t(f,{className:a.fieldTitleIcon}),t(U,{className:a.selectInput,children:t(V,{id:"demo-simple-select-autowidth",value:c,onChange:C,style:{width:"100%"},children:y.map((e,h)=>t(J,{value:e.cityId,style:{width:"100%"},children:e.cityName},h))})})]}),j=()=>s(o,{className:a.sectionSecond,children:[t(r,{className:a.fieldTitle,children:"Turf Name"}),t($,{className:a.fieldTitleIcon}),t(m,{fullWidth:!0,value:l,onChange:x,placeholder:"Turf Name",id:"fullWidth"})]}),B=()=>s(o,{className:a.sectionThird,children:[t(r,{className:a.fieldTitle,children:"Google Map Link"}),t(E,{className:a.fieldTitleIcon}),t(m,{fullWidth:!0,value:d,onChange:F,placeholder:"G-Map Link",id:"fullWidth"})]}),q=()=>t(o,{className:a.sectionFourth,children:t(O,{variant:"contained",color:"success",className:a.createButton,onClick:k,children:"Create"})});return s(D,{children:[t(z,{title:"Add Turf"}),t("div",{children:t(W,{loggedIn:g})}),s(p,{className:_?a.portraitContainere:a.container,children:[s(o,{children:[t(r,{variant:"h3",className:a.title,children:"Add Turf"}),t(o,{className:a.divider})]}),s(p,{className:a.formSection,children:[L(),j(),B(),q()]})]}),t(G,{})]})}export{Ce as default};
