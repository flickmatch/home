import{a as c,j as a,M as T,K as l}from"./loginSlice.25a195ef.js";import{l as K}from"./lodash.730ce810.js";import{M as Q}from"./Meta.965e9716.js";import{r as J,i as R,a as U,bt as X,am as Z,B as m,T as C,H as z,b as Y,u as $,bu as E,L as ee,F as B}from"./App.a0f4ec01.js";import{s,V as ae,J as se,E as te,d as re,P as ie,C as le}from"./Cities.bb472b85.js";import{T as H}from"./TextField.ab88ec5c.js";import{A as oe,a as de}from"./MenuItem.306bd3d4.js";import{a as ne,b as me,q as ce}from"./constants.bd73d15a.js";import{b as ue,d as ye,c as he}from"./DialogActions.4d672b97.js";import{G as M}from"./Grid.db27c2fa.js";import{Z as pe}from"./Zoom.08895e6e.js";import{b as Ne,S as w}from"./Stack.1a40be45.js";import"./index.module.51bb9f99.js";import"./index.3bc81a14.js";import"./map.75cf346c.js";import"./Input.956aec9c.js";var q={},Pe=R.exports;Object.defineProperty(q,"__esModule",{value:!0});var F=q.default=void 0,ve=Pe(J()),fe=U,Se=(0,ve.default)((0,fe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");F=q.default=Se;var j={},Le=R.exports;Object.defineProperty(j,"__esModule",{value:!0});var O=j.default=void 0,_e=Le(J()),be=U,Ie=(0,_e.default)((0,be.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");O=j.default=Ie;const ke="_playerName_18ti2_1",xe="_addButton_18ti2_5",Ae="_adminModePanel_18ti2_10",Ce="_adminModeTag_18ti2_14",A={playerName:ke,addButton:xe,adminModePanel:Ae,adminModeTag:Ce},De={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Me=({onToggle:h,isOpen:p,uniqueEventId:b,cityId:I,handlePassName:P})=>{const v=()=>h(),[d,N]=c.exports.useState(""),[u,f]=c.exports.useState(""),[,S]=X();function n(){S.push({options:{content:a(oe,{severity:"success",children:a(de,{className:A.alertTitle,children:"Player Added Successfully"})})}})}const i=()=>{fetch("https://service.flickmatch.in/platform-0.0.1-SNAPSHOT/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`mutation {
        joinEvent(input: {
              uniqueEventId: "${b}"
              cityId: "${I}"
              player: {
                waNumber: "${u}"
                name: "${d}"
            }
        }) {
          isSuccessful
        }
    }`})}).then(o=>o.json()).then(o=>{if(o.errors)throw new Error(o.errors[0].message);P(d),n(),N(""),f("")}).catch(o=>{alert(o.message)})};return a(T,{children:a(Z,{open:p,onClose:v,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:l(m,{sx:De,children:[l(m,{className:A.adminModePanel,children:[a(C,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Add Player"}),a(z,{label:"admin mode",color:"primary",variant:"outlined",className:A.adminModeTag})]}),a(m,{className:A.playerName,children:a(H,{fullWidth:!0,label:"Player Name",id:"fullWidth",value:d,onChange:o=>N(o.target.value)})}),a(m,{children:a(H,{fullWidth:!0,label:"Phone No.",id:"fullWidth",value:u,onChange:o=>f(o.target.value)})}),a(Y,{variant:"contained",endIcon:a(O,{}),className:A.addButton,onClick:i,children:"Add Player"})]})})})},we=({gameEvent:h,cityName:p,cityNameId:b,addPlayerInQueue:I})=>{const P=$(),v=E(),[d,N]=c.exports.useState(!1),[u,f]=c.exports.useState(!1),[S,n]=c.exports.useState(!1),i=e=>{const t=document.getElementById(e);if(t){t.scrollIntoView({behavior:"smooth",block:"start"});const r=t.querySelector("[aria-expanded]");r&&r.click(),N(!0),setTimeout(()=>{N(!1)},2e3)}},o=()=>{f(e=>!e)},L=e=>{I(e)};c.exports.useEffect(()=>{h.forEach(e=>{const t=v.hash.substring(1);t===e.uniqueEventId&&i(t)})},[]),c.exports.useEffect(()=>{const e=localStorage.getItem("adminIds"),t=localStorage.getItem("userData");if(t){const r=JSON.parse(t);if(e){const W=JSON.parse(e).data.map(V=>V.EmailId).includes(r.email);return n(W)}}},[]);const k=(e,t)=>a(ie,{displayName:e?e.displayName:"(Empty)",index:t},t),x=e=>l(m,{className:s.teamDivision,children:[a("span",{className:s.colorTeamA,style:{background:e}}),e||"White"," (Team A)"]}),_=e=>l(m,{className:s.teamDivisionSecond,children:[a("span",{className:s.colorTeamB,style:{background:e}}),e||"Blue"," (Team B)"]}),D=e=>a(Me,{isOpen:u,onToggle:o,uniqueEventId:e,cityId:b,handlePassName:L});return a(T,{children:(()=>h.map(e=>l(ue,{className:P?s.mobileAccordion:s.accordion,id:e.uniqueEventId,sx:{"&:before":{display:"none"}},children:[a(ye,{expandIcon:a(ee,{to:`#${e.uniqueEventId}`,className:s.linkTag,children:a(F,{})}),"aria-controls":"panel1a-content",id:"panel1a-header",children:l(B,{className:s.flexbox,children:[l(B,{className:s.venue,children:[a(ae,{venueName:e.venueName,date:e.date,dummyData:e.dummyData?e.dummyData:!1}),P?null:a(se,{stripePaymentUrl:e.stripePaymentUrl,charges:0,date:"",uniqueEventId:e.uniqueEventId,eventId:e.eventId,reservedPlayersCount:e.reservedPlayersCount,reservedPlayersList:e.reservedPlayersList,time:"",venueLocationLink:"",venueName:e.venueName,waitListPlayers:e.waitListPlayers,waitListPlayersCount:e.waitListPlayersCount,team_division:!1,team1_color:e.team1_color?e.team1_color:"",team2_color:e.team2_color?e.team2_color:"",dummyData:e.dummyData?e.dummyData:!1})]}),a(te,{uniqueEventId:e.uniqueEventId,charges:e.charges,date:e.date,time:e.time,venueLocationLink:e.venueLocationLink,reservedPlayersCount:e.reservedPlayersCount,waitListPlayersCount:e.waitListPlayersCount,eventId:p,reservedPlayersList:e.reservedPlayersList,venueName:e.venueName,waitListPlayers:e.waitListPlayers,stripePaymentUrl:e.stripePaymentUrl,team_division:!1,team1_color:e.team1_color?e.team1_color:"",team2_color:e.team2_color?e.team2_color:"",dummyData:e.dummyData?e.dummyData:!1})]})}),l(he,{className:d&&v.hash.substring(1)===e.uniqueEventId?s.blink:"",children:[l(m,{className:s.box,sx:{flexGrow:1},children:[l(m,{className:s.reservedPlayersContainer,children:[a(C,{className:s.reservedPlayers,children:"Reserved Players"}),S?a(re,{className:s.editIcon,onClick:o}):null]}),S?D(e.uniqueEventId):null,e.team_division?l(m,{children:[x(e.team1_color),a(M,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount/2},(t,r)=>{const y=r<e.reservedPlayersList.length?e.reservedPlayersList[r]:null;return k(y,r)})}),a(C,{className:s.versus,children:"v/s"}),_(e.team2_color),a(M,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount/2},(t,r)=>{const y=r<e.reservedPlayersList.length?e.reservedPlayersList[r+e.reservedPlayersCount/2]:null;return k(y,r+e.reservedPlayersCount/2)})})]}):a(m,{children:a(M,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount},(t,r)=>{const y=r<e.reservedPlayersList.length?e.reservedPlayersList[r]:null;return k(y,r)})})})]}),e.waitListPlayers.length>0?l(m,{className:s.box,sx:{flexGrow:1},children:[a(C,{className:s.waitListPlayers,children:"Waitlist"}),a(M,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.waitListPlayersCount},(t,r)=>{const y=r<e.waitListPlayers.length?e.waitListPlayers[r]:null;return k(y,ne.length-1-r)})})]}):null]})]},e.uniqueEventId)))()})},g={data:{cities:[{cityId:"2",cityName:"Hyderabad",countryCode:"IN",dummyData:!1,currency:"INR",events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-1",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:12,waitListPlayersCount:6,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",team_division:!0,team1_color:"White",team2_color:"Blue",charges:200,reservedPlayersList:[{displayName:"Abhimanyu"},{displayName:"Sourabh"},{displayName:"Kamal"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Jasprit"},{displayName:"Naresh Kumar"},{displayName:"Kaushal"},{displayName:"Nakul"},{displayName:"Parth"},{displayName:"Himanshu"}],waitListPlayers:[{displayName:"Nitin"},{displayName:"Haridev"},{displayName:"Kiyaan"},{displayName:"Monya Amo"},{displayName:"Rolly"},{displayName:"Jhumkar"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-2",date:"Sun, Jan 01",time:"9:00PM-10:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:10,waitListPlayersCount:5,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",team_division:!1,team1_color:"",team2_color:"",charges:250,reservedPlayersList:[{displayName:"Aryan"},{displayName:"Sarvesh"},{displayName:"Saarthak"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Mayank"},{displayName:"Yash"},{displayName:"Ankur"},{displayName:"Rithik"}],waitListPlayers:[{displayName:"Harsh"},{displayName:"Lovepreet"},{displayName:"Himanshu"},{displayName:"Mohit"},{displayName:"Piyush"}],stripePaymentUrl:""}]},{cityId:"1",cityName:"Gurgaon",countryCode:"IN",currency:"INR",dummyData:!1,events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",team_division:!1,team1_color:"",team2_color:"",charges:400,reservedPlayersList:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sumesh"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Saksham"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Anubhav"},{displayName:"Saarthak"},{displayName:"Harshvardhan"},{displayName:"Astitva"},{displayName:"Rishi"},{displayName:"Rijvaan"}],waitListPlayers:[{displayName:"Mukhtaar"},{displayName:"Shubham"},{displayName:"Burhan"},{displayName:"Arif"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Nilesh"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-4",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",team_division:!1,team1_color:"",team2_color:"",charges:400,reservedPlayersList:[{displayName:"Harshdeep"},{displayName:"Sarvesh"},{displayName:"Akhilesh"},{displayName:"Sanju"},{displayName:"Prahlad"},{displayName:"Kishore"},{displayName:"Jasprit"},{displayName:"Sooraj"},{displayName:"Bunty Singh"},{displayName:"Rijwaan"},{displayName:"Ravinder"},{displayName:"Vinod"},{displayName:"Himesh"},{displayName:"Sandeep"}],waitListPlayers:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sukhwinder"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Margo"},{displayName:"Saksham"}],stripePaymentUrl:""}]},{cityId:"4",cityName:"San Jose",countryCode:"US",currency:"USD",dummyData:!1,events:[{uniqueEventId:"10-26-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Vista Montana Park",reservedPlayersCount:18,waitListPlayersCount:9,venueLocationLink:"https://goo.gl/maps/ivkhHaXWM3RBTJ5r9",team_division:!1,team1_color:"",team2_color:"",charges:8.99,reservedPlayersList:[{displayName:"Chen"},{displayName:"Pablo"},{displayName:"Feng"},{displayName:"Leo"},{displayName:"Himesh"},{displayName:"Arturito"},{displayName:"Diego"},{displayName:"Mateo"},{displayName:"Rafael"},{displayName:"Shahin"},{displayName:"Eva"},{displayName:"Astva"},{displayName:"Rishi"},{displayName:"Frank"},{displayName:"Ahmad"},{displayName:"Luca"},{displayName:"Dario"},{displayName:"Bianca"}],waitListPlayers:[{displayName:"Jiang"},{displayName:"Santiago"},{displayName:"Burhan"},{displayName:"Felipe"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Alvaro"},{displayName:"Elise"},{displayName:"Louis"}],stripePaymentUrl:""}]}]}};function Qe(){const[h,p]=c.exports.useState([]),[b,I]=c.exports.useState(!0),[P,v]=c.exports.useState([]),d=$(),N=n=>{v(i=>[...i,n])},u=n=>new Date(n.date);c.exports.useEffect(()=>{const n=new AbortController,i=n.signal;return(async()=>{try{const x=await(await fetch(me,{method:"POST",signal:i,headers:{"Content-Type":"application/json"},body:ce})).json();x.data.cities.forEach((_,D)=>{if(K.exports.some(g.data.cities,{cityId:_.cityId}))if(_.events.length>0){const e=x.data.cities[D];e.events.sort((t,r)=>u(r).getTime()-u(t).getTime()),p(t=>[...t,e])}else g.data.cities.forEach((e,t)=>{e.cityName==_.cityName&&p(r=>[...r,g.data.cities[t]])});else if(_.events.length>0){const e=x.data.cities[D];e.events.sort((t,r)=>u(r).getTime()-u(t).getTime()),p(t=>[...t,e])}I(!1)})}catch(L){L instanceof Error&&L.name==="TypeError"&&console.log(L)}})(),()=>{n.abort()}},[P]);const f=()=>(h.sort(i=>i.dummyData===!1?1:-1),h.map(i=>a(pe,{in:!0,style:{transitionDelay:"300ms"},children:l("div",{className:d?s.mobileContainer:s.container,children:[a(le,{cityName:i.cityName,cityId:i.cityId,events:i.events,dummyData:i.dummyData,countryCode:i.countryCode}),a(we,{gameEvent:i.events,cityName:i.cityName,cityNameId:i.cityId,addPlayerInQueue:N})]})},i.cityId))),S=()=>b?l(Ne,{spacing:1,className:s.skeletonContainer,children:[a(w,{variant:"rectangular",className:d?s.mobileSkeleton:s.skeleton}),a(w,{variant:"rectangular",className:d?s.mobileSkeleton:s.skeleton}),a(w,{variant:"rectangular",className:d?s.mobileSkeleton:s.skeleton}),a(w,{variant:"rectangular",className:d?s.mobileSkeleton:s.skeleton})]}):null;return l(T,{children:[a(Q,{title:"Match Queues"}),a(C,{className:s.title,children:"Flickmatch Soccer"}),f(),S()]})}export{Qe as default};
