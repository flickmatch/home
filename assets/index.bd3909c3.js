import{a as o,K as s,M as v,j as t}from"./loginSlice.f61746a0.js";import{M as _}from"./Meta.df1b3db9.js";import{e as C,B as I,T as d,f as S}from"./App.d186fdbf.js";import{Z as x}from"./Zoom.863b94c0.js";import{S as U}from"./Select.232d3f15.js";import{M as y}from"./MenuItem.10b4fb61.js";import{A as D}from"./Avatar.73851967.js";import"./index.module.002e5337.js";import"./index.3ad52ad8.js";import"./Input.acfbc2b6.js";const P="_heading_1bv5d_19",M="_pageContainer_1bv5d_26",k="_container_1bv5d_32",j="_cityDropdown_1bv5d_47",q="_title_1bv5d_53",A="_subtitle_1bv5d_62",n={heading:P,pageContainer:M,container:k,cityDropdown:j,title:q,subtitle:A},E={1:{cityId:"1",cityName:"Gurgaon",iconUrl:"/india-gate.webp"},2:{cityId:"2",cityName:"Hyderabad",iconUrl:"/hyderabad-charminar.webp"},3:{cityId:"3",cityName:"Mountain View",iconUrl:"/mount-rushmore.webp"},4:{cityId:"4",cityName:"San Jose",iconUrl:"/golden-gate.webp"},5:{cityId:"5",cityName:"San Francisco",iconUrl:"/golden-gate.webp"},6:{cityId:"6",cityName:"Kolkata",iconUrl:"/hyderabad-charminar.webp"},7:{cityId:"7",cityName:"Noida",iconUrl:"/building.webp"}};function V(){const[m,p]=o.exports.useState([]),[h,u]=o.exports.useState(""),[g,c]=o.exports.useState(!0),f=C();o.exports.useEffect(()=>{(async()=>{c(!0);try{const a=await fetch("https://service.flickmatch.in/platform-0.0.1-SNAPSHOT/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`query Passes {
              passes {
                cityId
              }
            }`})});if(!a.ok)throw new Error("Network response was not ok");const N=(await a.json()).data.passes,l=new Set;N.forEach(i=>{l.add(i.cityId)});const w=Array.from(l).map(i=>{const r=E[i];return r?{cityId:r.cityId,cityName:r.cityName,iconUrl:r.iconUrl}:null}).filter(i=>i!==null);p(w)}catch(a){console.error("Error fetching cities:",a)}finally{c(!1)}})()},[]);const b=e=>{const a=e.target.value;u(a),f(`/game-passes/${a}`)};return s(v,{children:[t(_,{title:"Game Passes"}),t(x,{in:!0,style:{transitionDelay:"300ms"},children:s(I,{className:n.pageContainer,children:[t(d,{variant:"h3",className:n.heading,children:"Flickmatch Pass"}),s("div",{className:n.container,children:[t(d,{variant:"h4",className:n.heading,children:"Select City"}),g?t(S,{}):s(U,{value:h,onChange:b,displayEmpty:!0,className:n.cityDropdown,children:[t(y,{value:"",disabled:!0,children:"Please select a city"}),m.map(e=>t(y,{value:e.cityId,children:s("div",{style:{display:"flex",alignItems:"center"},children:[t(D,{src:e.iconUrl,alt:e.cityName,style:{marginRight:"16px"},variant:"rounded"}),e.cityName]})},e.cityId))]})]})]})})]})}export{V as default};
