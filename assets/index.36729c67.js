import{a as h,j as a,M as H,K as l,W as F}from"./loginSlice.f61746a0.js";import{l as G}from"./lodash.dcf1d9ce.js";import{M as V}from"./Meta.a1239802.js";import{r as W,i as K,a as Q,bu as X,M as Z,B as u,T as w,S as Y,b as z,u as O,F as R}from"./App.89728284.js";import{d as g,s as t,V as E,J as ee,E as ae,a as se,P as te,C as re}from"./Cities.6c053be4.js";import{T as U}from"./TextField.84c57c90.js";import{A as ie,a as oe}from"./AlertTitle.3225ec2c.js";import{A as de,b as le,a as me,G as B}from"./Grid.c4547909.js";import{a as ne,q as ce}from"./sweetalert2.all.b64b67b9.js";import{Z as ue}from"./Zoom.94fb1789.js";import{b as he,S as M}from"./Stack.acb292e2.js";import"./index.module.002e5337.js";import"./index.6e23b33a.js";import"./Select.1f873ed4.js";import"./Input.20adf3ee.js";import"./MenuItem.34746f75.js";import"./CurrencyRupeeSharp.9be67452.js";import"./Avatar.029312d1.js";import"./map.839e9770.js";var J={},Ne=K.exports;Object.defineProperty(J,"__esModule",{value:!0});var $=J.default=void 0,ye=Ne(W()),pe=Q,Pe=(0,ye.default)((0,pe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");$=J.default=Pe;const fe="_playerName_18ti2_1",Se="_addButton_18ti2_5",be="_adminModePanel_18ti2_10",Ce="_adminModeTag_18ti2_14",_={playerName:fe,addButton:Se,adminModePanel:be,adminModeTag:Ce},Le={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},ve=({onToggle:S,isOpen:b,uniqueEventId:p,cityId:v,handlePassName:C})=>{const k=()=>S(),[N,c]=h.exports.useState(""),[y,m]=h.exports.useState(""),[,I]=X();function A(){I.push({options:{content:a(ie,{severity:"success",children:a(oe,{className:_.alertTitle,children:"Player Added Successfully"})})}})}const i=()=>{!N||!y?alert("All input fields are required."):fetch("https://service.flickmatch.in/platform-0.0.1-SNAPSHOT/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`mutation {
          joinEvent(input: {
                uniqueEventId: "${p}"
                cityId: "${v}"
                player: {
                  waNumber: "${y}"
                  name: "${N}"
              }
          }) {
            isSuccessful
          }
      }`})}).then(s=>s.json()).then(s=>{s.errors?alert(s.errors[0].message):(C(N),A(),c(""),m(""))}).catch(s=>{alert(s.message)})};return a(H,{children:a(Z,{open:b,onClose:k,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:l(u,{sx:Le,children:[l(u,{className:_.adminModePanel,children:[a(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Add Player"}),a(Y,{label:"admin mode",color:"primary",variant:"outlined",className:_.adminModeTag})]}),a(u,{className:_.playerName,children:a(U,{fullWidth:!0,label:"Player Name",id:"fullWidth",value:N,onChange:s=>c(s.target.value)})}),a(u,{children:a(U,{type:"number",fullWidth:!0,label:"Phone No.",id:"fullWidth",value:y,onChange:s=>m(s.target.value)})}),a(z,{variant:"contained",endIcon:a(g,{}),className:_.addButton,onClick:i,children:"Add Player"})]})})})},ke=({gameEvent:S,cityName:b,cityNameId:p,addPlayerInQueue:v})=>{const C=O(),[k,N]=h.exports.useState(!1),[c,y]=h.exports.useState(!1),[m,I]=h.exports.useState(null),A=e=>{const d=document.getElementById(e);if(d){d.scrollIntoView({behavior:"smooth",block:"start"});const r=d.querySelector("[aria-expanded]");r&&r.click(),y(!0),setTimeout(()=>{y(!1)},2e3)}},i=F(e=>e),s=e=>{history.replaceState(null,"",`#${e}`),I(e),N(d=>!d)},T=()=>{m&&s(m)},n=e=>{v(e)};h.exports.useEffect(()=>{const e=window.location.hash.substring(1);e&&A(e)},[]);const P=(e,d)=>a(te,{displayName:e?e.displayName:"Add Name",index:d},d),f=e=>l(u,{className:t.teamDivision,children:[a("span",{className:t.colorTeamA,style:{background:e}}),e||"Red"," (Team A)"]}),D=e=>l(u,{className:t.teamDivisionSecond,children:[a("span",{className:t.colorTeamB,style:{background:e}}),e||"Black"," (Team B)"]});return a(H,{children:(()=>S.map(e=>(e==null?void 0:e.testGame)&&!i.login.isAdmin?null:l(de,{className:C?t.mobileAccordion:t.accordion,id:e.uniqueEventId,sx:{"&:before":{display:"none"}},children:[a(le,{expandIcon:a($,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:l(R,{className:t.flexbox,children:[l(R,{className:t.venue,children:[a(E,{venueName:e.venueName,date:e.date,dummyData:e.dummyData?e.dummyData:!1}),C?null:a(ee,{stripePaymentUrl:e.stripePaymentUrl,charges:0,date:"",uniqueEventId:e.uniqueEventId,eventId:e.eventId,reservedPlayersCount:e.reservedPlayersCount,reservedPlayersList:e.reservedPlayersList,time:"",venueLocationLink:"",venueName:e.venueName,waitListPlayers:e.waitListPlayers,waitListPlayersCount:e.waitListPlayersCount,team_division:(e==null?void 0:e.teamDivision)||!1,team1_color:e!=null&&e.team1Color?e==null?void 0:e.team1Color:"",team2_color:e!=null&&e.team2Color?e==null?void 0:e.team2Color:"",dummyData:e.dummyData?e.dummyData:!1,handlePassName:n,cityId:p,credits:e.credits?e.credits:0})]}),a(ae,{uniqueEventId:e.uniqueEventId,charges:e.charges,date:e.date,time:e.time,venueLocationLink:e.venueLocationLink,reservedPlayersCount:e.reservedPlayersCount,waitListPlayersCount:e.waitListPlayersCount,eventId:b,cityId:p,reservedPlayersList:e.reservedPlayersList,venueName:e.venueName,waitListPlayers:e.waitListPlayers,stripePaymentUrl:e.stripePaymentUrl,team_division:e.teamDivision?e.teamDivision:!1,team1_color:e.team1Color?e.team1Color:"",team2_color:e.team2Color?e.team2Color:"",dummyData:e.dummyData?e.dummyData:!1,handlePassName:n,credits:e.credits?e.credits:0})]})}),a(me,{className:c&&window.location.hash.substring(1)===e.uniqueEventId?t.blink:"",children:l(u,{className:t.box,sx:{flexGrow:1},children:[l(u,{className:t.reservedPlayersContainer,children:[a(w,{className:t.reservedPlayers,children:"Reserved Players"}),i.login.isAdmin&&i.login.isLoggedIn?a(se,{className:t.editIcon,onClick:()=>s(e.uniqueEventId)}):null]}),i.login.isAdmin&&i.login.isLoggedIn&&m===e.uniqueEventId?a(ve,{isOpen:k,onToggle:T,uniqueEventId:m,cityId:p,handlePassName:n}):null,e!=null&&e.teamDivision?l(u,{children:[f((e==null?void 0:e.team1Color)||"Red"),a(B,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount/2},(d,r)=>{const o=r<e.reservedPlayersList.length?e.reservedPlayersList[r]:null;return P(o,r)})}),a(w,{className:t.versus,children:"v/s"}),D((e==null?void 0:e.team2Color)||"Black"),a(B,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount/2},(d,r)=>{const o=r<e.reservedPlayersList.length?e.reservedPlayersList[r+e.reservedPlayersCount/2]:null;return P(o,r+e.reservedPlayersCount/2)})})]}):a(u,{children:a(B,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount},(d,r)=>{const o=r<e.reservedPlayersList.length?e.reservedPlayersList[r]:null;return P(o,r)})})})]})})]},e.uniqueEventId)))()})},j={data:{cities:[{cityId:"2",cityName:"Hyderabad",countryCode:"IN",dummyData:!1,currency:"INR",events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-1",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:12,waitListPlayersCount:6,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",team_division:!0,team1_color:"White",team2_color:"Blue",charges:200,reservedPlayersList:[{displayName:"Abhimanyu"},{displayName:"Sourabh"},{displayName:"Kamal"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Jasprit"},{displayName:"Naresh Kumar"},{displayName:"Kaushal"},{displayName:"Nakul"},{displayName:"Parth"},{displayName:"Himanshu"}],waitListPlayers:[{displayName:"Nitin"},{displayName:"Haridev"},{displayName:"Kiyaan"},{displayName:"Monya Amo"},{displayName:"Rolly"},{displayName:"Jhumkar"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-2",date:"Sun, Jan 01",time:"9:00PM-10:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:10,waitListPlayersCount:5,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",team_division:!1,team1_color:"",team2_color:"",charges:250,reservedPlayersList:[{displayName:"Aryan"},{displayName:"Sarvesh"},{displayName:"Saarthak"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Mayank"},{displayName:"Yash"},{displayName:"Ankur"},{displayName:"Rithik"}],waitListPlayers:[{displayName:"Harsh"},{displayName:"Lovepreet"},{displayName:"Himanshu"},{displayName:"Mohit"},{displayName:"Piyush"}],stripePaymentUrl:""}]},{cityId:"1",cityName:"Gurgaon",countryCode:"IN",currency:"INR",dummyData:!1,events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",team_division:!1,team1_color:"",team2_color:"",charges:400,reservedPlayersList:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sumesh"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Saksham"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Anubhav"},{displayName:"Saarthak"},{displayName:"Harshvardhan"},{displayName:"Astitva"},{displayName:"Rishi"},{displayName:"Rijvaan"}],waitListPlayers:[{displayName:"Mukhtaar"},{displayName:"Shubham"},{displayName:"Burhan"},{displayName:"Arif"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Nilesh"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-4",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",team_division:!1,team1_color:"",team2_color:"",charges:400,reservedPlayersList:[{displayName:"Harshdeep"},{displayName:"Sarvesh"},{displayName:"Akhilesh"},{displayName:"Sanju"},{displayName:"Prahlad"},{displayName:"Kishore"},{displayName:"Jasprit"},{displayName:"Sooraj"},{displayName:"Bunty Singh"},{displayName:"Rijwaan"},{displayName:"Ravinder"},{displayName:"Vinod"},{displayName:"Himesh"},{displayName:"Sandeep"}],waitListPlayers:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sukhwinder"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Margo"},{displayName:"Saksham"}],stripePaymentUrl:""}]},{cityId:"4",cityName:"San Jose",countryCode:"US",currency:"USD",dummyData:!1,events:[{uniqueEventId:"10-26-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Vista Montana Park",reservedPlayersCount:18,waitListPlayersCount:9,venueLocationLink:"https://goo.gl/maps/ivkhHaXWM3RBTJ5r9",team_division:!1,team1_color:"",team2_color:"",charges:8.99,reservedPlayersList:[{displayName:"Chen"},{displayName:"Pablo"},{displayName:"Feng"},{displayName:"Leo"},{displayName:"Himesh"},{displayName:"Arturito"},{displayName:"Diego"},{displayName:"Mateo"},{displayName:"Rafael"},{displayName:"Shahin"},{displayName:"Eva"},{displayName:"Astva"},{displayName:"Rishi"},{displayName:"Frank"},{displayName:"Ahmad"},{displayName:"Luca"},{displayName:"Dario"},{displayName:"Bianca"}],waitListPlayers:[{displayName:"Jiang"},{displayName:"Santiago"},{displayName:"Burhan"},{displayName:"Felipe"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Alvaro"},{displayName:"Elise"},{displayName:"Louis"}],stripePaymentUrl:""}]}]}};function Ve(){const[S,b]=h.exports.useState([]),[p,v]=h.exports.useState(!0),[C,k]=h.exports.useState([]),N=F(i=>i),c=O(),y=i=>{k(s=>[...s,i])},m=i=>new Date(i.date);h.exports.useEffect(()=>{b([]);const i=new AbortController,s=i.signal;return(async()=>{try{const f=await(await fetch(ne,{method:"POST",signal:s,headers:{"Content-Type":"application/json"},body:ce})).json(),D=["San Francisco","San Jose","Mountain View"],L=[];f.data.cities.forEach((e,d)=>{if(G.exports.some(j.data.cities,{cityId:e.cityId}))if(e.events.length>0){const o=f.data.cities[d];o.events.sort((x,q)=>m(q).getTime()-m(x).getTime()),L.push(o)}else j.data.cities.forEach((o,x)=>{o.cityName==e.cityName&&L.push(j.data.cities[x])});else if(e.events.length>0){const o=f.data.cities[d];o.events.sort((x,q)=>m(q).getTime()-m(x).getTime()),L.push(o)}v(!1)}),L.sort((e,d)=>{const r=D.indexOf(e.cityName),o=D.indexOf(d.cityName);return r===-1&&o===-1?0:r===-1?-1:o===-1?1:r-o}),b(L)}catch(n){n instanceof Error&&n.name==="TypeError"&&console.log(n)}})(),()=>{i.abort()}},[C]);const I=()=>(S.sort(s=>s.dummyData===!1?1:-1),S.map(s=>{var n,P;return((P=(n=s==null?void 0:s.events)==null?void 0:n.filter(f=>f.testGame!==!0))==null?void 0:P.length)===0&&!N.login.isAdmin?null:a(ue,{in:!0,style:{transitionDelay:"300ms"},children:l("div",{className:c?t.mobileContainer:t.container,children:[a(re,{cityName:s.cityName,cityId:s.cityId,events:s.events,dummyData:s.dummyData,countryCode:s.countryCode}),a(ke,{gameEvent:s.events,cityName:s.cityName,cityNameId:s.cityId,addPlayerInQueue:y})]})},s.cityId)})),A=()=>p?l(he,{spacing:1,className:t.skeletonContainer,children:[a(M,{variant:"rectangular",className:c?t.mobileSkeleton:t.skeleton}),a(M,{variant:"rectangular",className:c?t.mobileSkeleton:t.skeleton}),a(M,{variant:"rectangular",className:c?t.mobileSkeleton:t.skeleton}),a(M,{variant:"rectangular",className:c?t.mobileSkeleton:t.skeleton})]}):null;return l(H,{children:[a(V,{title:"Match Queues"}),a(w,{className:t.title,children:"Flickmatch Soccer"}),I(),A()]})}export{Ve as default};
