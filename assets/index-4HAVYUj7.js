import{r as p,X as U,j as e}from"./loginSlice-DaapXPJe.js";import{l as Y}from"./lodash-C7g9hy0u.js";import{M as q}from"./Meta-DX_1hwEA.js";import{f as K,u as X,T as Q}from"./App-B4DX4k5J.js";import{s as t,N as Z,C as L,E}from"./Cities-WyTKsp-k.js";import{g as V,a as W,q as $}from"./sweetalert2.all-BnJXlX7w.js";import{m as z}from"./map-Q7HwO6dx.js";import{Z as D}from"./Zoom-_CB3TxZ7.js";import{S as _}from"./ToggleButtonGroup-91NKxKG7.js";import{S}from"./Skeleton-Da17kwIl.js";import"./index-CU2RedqW.js";import"./index.module-DzsYsj7q.js";import"./TextField-C2m_GdQV.js";import"./Select-ePhiPg5x.js";import"./Input-lhGPHK76.js";import"./AlertTitle-BmCepCTO.js";import"./MenuItem-Cy40ZwTU.js";import"./index.esm-BnTqRH7_.js";import"./FirebaseError-DQsrwcVu.js";import"./tslib.es6-DlC74vB9.js";import"./CurrencyRupeeSharp-SkDp-jR3.js";import"./Avatar-BmQnLG4w.js";import"./SwitchBase-BACShV9k.js";const k={data:{cities:[{cityId:"2",cityName:"Hyderabad",countryCode:"IN",dummyData:!1,currency:"INR",events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-1",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:12,waitListPlayersCount:6,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",teamDivision:!0,team1Color:"Grey",team2Color:"Yellow",charges:200,reservedPlayersList:[{displayName:"Abhimanyu",teamColor:"Grey"},{displayName:"Sourabh",teamColor:"Grey"},{displayName:"Kamal",teamColor:"Grey"},{displayName:"Sahil",teamColor:"Grey"},{displayName:"Abhishek",teamColor:"Grey"},{displayName:"Harsh",teamColor:"Grey"},{displayName:"Jasprit",teamColor:"Yellow"},{displayName:"Naresh Kumar",teamColor:"Yellow"},{displayName:"Kaushal",teamColor:"Yellow"},{displayName:"Nakul",teamColor:"Yellow"},{displayName:"Parth",teamColor:"Yellow"},{displayName:"Himanshu",teamColor:"Yellow"}],waitListPlayers:[{displayName:"Nitin"},{displayName:"Haridev"},{displayName:"Kiyaan"},{displayName:"Monya Amo"},{displayName:"Rolly"},{displayName:"Jhumkar"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-2",date:"Sun, Jan 01",time:"9:00PM-10:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:10,waitListPlayersCount:5,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",teamDivision:!1,team1Color:"",team2Color:"",charges:250,reservedPlayersList:[{displayName:"Aryan"},{displayName:"Sarvesh"},{displayName:"Saarthak"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Mayank"},{displayName:"Yash"},{displayName:"Ankur"},{displayName:"Rithik"}],waitListPlayers:[{displayName:"Harsh"},{displayName:"Lovepreet"},{displayName:"Himanshu"},{displayName:"Mohit"},{displayName:"Piyush"}],stripePaymentUrl:""}]},{cityId:"1",cityName:"Gurgaon",countryCode:"IN",currency:"INR",dummyData:!1,events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",teamDivision:!1,team1Color:"",team2Color:"",charges:400,reservedPlayersList:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sumesh"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Saksham"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Anubhav"},{displayName:"Saarthak"},{displayName:"Harshvardhan"},{displayName:"Astitva"},{displayName:"Rishi"},{displayName:"Rijvaan"}],waitListPlayers:[{displayName:"Mukhtaar"},{displayName:"Shubham"},{displayName:"Burhan"},{displayName:"Arif"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Nilesh"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-4",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",teamDivision:!1,team1Color:"",team2Color:"",charges:400,reservedPlayersList:[{displayName:"Harshdeep"},{displayName:"Sarvesh"},{displayName:"Akhilesh"},{displayName:"Sanju"},{displayName:"Prahlad"},{displayName:"Kishore"},{displayName:"Jasprit"},{displayName:"Sooraj"},{displayName:"Bunty Singh"},{displayName:"Rijwaan"},{displayName:"Ravinder"},{displayName:"Vinod"},{displayName:"Himesh"},{displayName:"Sandeep"}],waitListPlayers:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sukhwinder"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Margo"},{displayName:"Saksham"}],stripePaymentUrl:""}]},{cityId:"4",cityName:"San Jose",countryCode:"US",currency:"USD",dummyData:!1,events:[{uniqueEventId:"10-26-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Vista Montana Park",reservedPlayersCount:22,waitListPlayersCount:9,venueLocationLink:"https://goo.gl/maps/ivkhHaXWM3RBTJ5r9",teamDivision:!0,team1Color:"Blue",team2Color:"Orange",charges:8.99,reservedPlayersList:[{displayName:"Chen",points:{x:16,y:46},mobilePoints:{x:45,y:26},id:1,role:"WK",teamColor:"Blue"},{displayName:"Pablo",points:{x:20,y:10},mobilePoints:{x:6,y:100},id:2,role:"MF",teamColor:"Blue"},{displayName:"Feng",points:{x:20,y:30},mobilePoints:{x:29,y:100},id:3,role:"MF",teamColor:"Blue"},{displayName:"Leo",points:{x:20,y:60},mobilePoints:{x:60,y:100},id:4,role:"MF",teamColor:"Blue"},{displayName:"Himesh",points:{x:20,y:80},mobilePoints:{x:83,y:100},id:5,role:"MF",teamColor:"Blue"},{displayName:"Arturito",points:{x:27,y:10},mobilePoints:{x:6,y:170},id:6,role:"MD",teamColor:"Blue"},{displayName:"Diego",points:{x:27,y:30},mobilePoints:{x:29,y:170},id:7,role:"MD",teamColor:"Blue"},{displayName:"Mateo",points:{x:27,y:60},mobilePoints:{x:60,y:170},id:8,role:"MD",teamColor:"Blue"},{displayName:"Rafael",points:{x:27,y:80},mobilePoints:{x:83,y:170},id:9,role:"MD",teamColor:"Blue"},{displayName:"Shahin",points:{x:35,y:21},mobilePoints:{x:29,y:240},id:10,role:"A",teamColor:"Blue"},{displayName:"Eva",points:{x:35,y:67},mobilePoints:{x:60,y:240},id:11,role:"A",teamColor:"Blue"},{displayName:"Astva",points:{x:47,y:21},mobilePoints:{x:29,y:370},id:12,role:"A",teamColor:"Orange"},{displayName:"Rishi",points:{x:47,y:67},mobilePoints:{x:60,y:370},id:13,role:"A",teamColor:"Orange"},{displayName:"Frank",points:{x:56,y:10},mobilePoints:{x:6,y:440},id:14,role:"MD",teamColor:"Orange"},{displayName:"Ahmad",points:{x:56,y:30},mobilePoints:{x:29,y:440},id:15,role:"MD",teamColor:"Orange"},{displayName:"Luca",points:{x:56,y:60},mobilePoints:{x:60,y:440},id:16,role:"MD",teamColor:"Orange"},{displayName:"Dario",points:{x:56,y:80},mobilePoints:{x:83,y:440},id:17,role:"MD",teamColor:"Orange"},{displayName:"Bianca",points:{x:63,y:10},mobilePoints:{x:6,y:520},id:18,role:"MF",teamColor:"Orange"},{displayName:"Sharan",points:{x:63,y:30},mobilePoints:{x:29,y:520},id:19,role:"MF",teamColor:"Orange"},{displayName:"Ferruro",points:{x:63,y:60},mobilePoints:{x:60,y:520},id:20,role:"MF",teamColor:"Orange"},{displayName:"Sahil",points:{x:63,y:80},mobilePoints:{x:83,y:520},id:21,role:"MF",teamColor:"Orange"},{displayName:"Hitesh",points:{x:79,y:46},mobilePoints:{x:45,y:581},id:22,role:"WK",teamColor:"Orange"}],waitListPlayers:[{displayName:"Jiang"},{displayName:"Santiago"},{displayName:"Burhan"},{displayName:"Felipe"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Alvaro"},{displayName:"Elise"},{displayName:"Louis"}],stripePaymentUrl:""}]}]}};function I(o){const l=(o==null?void 0:o.uniqueEventId)||"",r=l!=""?l.split("-"):"";let u="99999";return u=r.length>0?r[0]:"3",u}function w(o){const l=I(o),r=z.find(u=>u.cityId.toString()===l);return r==null?void 0:r.city}function Se(){const[o,l]=p.useState([]),[r,u]=p.useState(!0),[B,F]=p.useState([]),P=U(i=>i),{id:c}=K(),[n,H]=p.useState(null),[O,J]=p.useState(null);p.useEffect(()=>{c&&V(c,J).then(i=>{i?H(i):console.error(`No event found with ID: ${c}`)}).catch(i=>{console.error(i)})},[c]);const m=X(),A=i=>{F(a=>[...a,i])},g=i=>new Date(i.date);p.useEffect(()=>{l([]);const i=new AbortController,a=i.signal;return(async()=>{try{const h=await(await fetch(W,{method:"POST",signal:a,headers:{"Content-Type":"application/json"},body:$})).json(),j=["San Francisco","San Jose","Mountain View"],v=[];h.data.cities.forEach((d,f)=>{const x=Y.some(k.data.cities,{cityId:d.cityId}),N=d.events.filter(s=>s.testGame===!1);if(x)if(d.events.length>0){if(P.login.isAdmin||N.length>0){const s=h.data.cities[f];s.events.sort((C,M)=>g(M).getTime()-g(C).getTime()),v.push(s)}}else k.data.cities.forEach((s,C)=>{s.cityName==d.cityName&&v.push(k.data.cities[C])});else if(d.events.length>0&&(P.login.isAdmin||N.length>0)){const s=h.data.cities[f];s.events.sort((C,M)=>g(M).getTime()-g(C).getTime()),v.push(s)}u(!1)}),v.sort((d,f)=>{const x=j.indexOf(d.cityName),N=j.indexOf(f.cityName);return x===-1&&N===-1?0:x===-1?-1:N===-1?1:x-N}),l(v)}catch(y){y instanceof Error&&y.name==="TypeError"&&console.log(y)}})(),()=>{i.abort()}},[B,P.login.isAdmin]);const G=()=>n?e.jsx(D,{in:!0,style:{transitionDelay:"300ms"},children:e.jsxs("div",{className:m?t.mobileContainer:t.container,children:[e.jsx(L,{cityId:I(n),cityName:w(n)||"",countryCode:"IN",dummyData:!1,events:[]}),e.jsx(E,{gameEvent:[n],cityName:w(n)||"",cityNameId:I(n)||"",addPlayerInQueue:A,eventPage:!0})]})}):(o.sort(a=>a.dummyData===!1?1:-1),o.map(a=>{var y,b;return((b=(y=a==null?void 0:a.events)==null?void 0:y.filter(h=>h.testGame!==!0))==null?void 0:b.length)===0&&!P.login.isAdmin?null:e.jsx(D,{in:!0,style:{transitionDelay:"300ms"},children:e.jsxs("div",{className:m?t.mobileContainer:t.container,children:[e.jsx(L,{cityName:a.cityName,cityId:a.cityId,events:a.events,dummyData:a.dummyData,countryCode:a.countryCode}),e.jsx(E,{gameEvent:a.events,cityName:a.cityName,cityNameId:a.cityId,addPlayerInQueue:A,eventPage:!1})]})},a.cityId)})),R=()=>r?e.jsxs(_,{spacing:1,className:t.skeletonContainer,children:[e.jsx(S,{variant:"rectangular",className:m?t.mobileSkeleton:t.skeleton}),e.jsx(S,{variant:"rectangular",className:m?t.mobileSkeleton:t.skeleton}),e.jsx(S,{variant:"rectangular",className:m?t.mobileSkeleton:t.skeleton}),e.jsx(S,{variant:"rectangular",className:m?t.mobileSkeleton:t.skeleton})]}):null;return c&&!n&&O?e.jsx(D,{in:!0,style:{transitionDelay:"300ms"},children:e.jsx("div",{className:m?t.portraitContainer:t.parentContainer,children:e.jsx("div",{className:t.parent,children:e.jsx(Z,{})})})}):e.jsxs(e.Fragment,{children:[e.jsx(q,{title:"Match Queues"}),e.jsx(Q,{className:t.title,children:"Flickmatch Soccer"}),G(),R()]})}export{Se as default};
