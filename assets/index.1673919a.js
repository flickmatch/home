import{W,a as x,a6 as U,j as s,F as T,A as l}from"./loginSlice.5d27ec86.js";import{l as K}from"./lodash.4f961344.js";import{M as V}from"./Meta.26cbaf50.js";import{r as Q,a as X,u as O,F as R,B as P,T as J}from"./App.b8d355c1.js";import{s as a,V as Z,J as $,E as Y,d as z,A as v,P as g,C as E}from"./Cities.67885ebd.js";import{A as ee,b as ae,a as se,G as j}from"./Grid.dd08300b.js";import{a as re,q as te}from"./sweetalert2.esm.all.417845c3.js";import{Z as oe}from"./Zoom.c805645b.js";import{S as ie,b as A}from"./Skeleton.da5c5098.js";import"./index.module.4cdec6c2.js";import"./index.f9f71479.js";import"./TextField.eb0e00a8.js";import"./Input.19f2691a.js";import"./Select.0732dde2.js";import"./AlertTitle.5bdacb90.js";import"./MenuItem.856583b2.js";import"./CurrencyRupeeSharp.9ea51d67.js";import"./Avatar.bd6820a9.js";import"./map.839e9770.js";var B={},me=W.exports;Object.defineProperty(B,"__esModule",{value:!0});var G=B.default=void 0,de=me(Q()),le=X;G=B.default=(0,de.default)((0,le.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const ue=({gameEvent:L,cityName:S,cityNameId:b,addPlayerInQueue:k})=>{const N=O(),[M,w]=x.exports.useState(!1),[p,D]=x.exports.useState(!1),[y,_]=x.exports.useState(null),q=e=>{const t=document.getElementById(e);if(t){t.scrollIntoView({behavior:"smooth",block:"start"});const d=t.querySelector("[aria-expanded]");d&&d.click(),D(!0),setTimeout(()=>{D(!1)},2e3)}},m=U(e=>e),o=e=>{history.replaceState(null,"",`#${e}`),_(e),w(t=>!t)},F=()=>{y&&o(y)},c=e=>{k(e)};x.exports.useEffect(()=>{const e=window.location.hash.substring(1);e&&q(e)},[]);const n=(e,t,d)=>s(g,{displayName:e?e.displayName:"Add Name",index:t,points:e==null?void 0:e.points,mobilePoints:e==null?void 0:e.mobilePoints,dummyData:d,id:e==null?void 0:e.id,role:e==null?void 0:e.role},t),f=e=>{const t=e.toLowerCase()==="bibs"?"Orange":e.toLowerCase()==="no bibs"||!e?"White":e;return l(P,{className:a.teamDivision,children:[s("span",{className:a.colorTeamA,style:{background:t}}),e," (Team A)"]})},I=e=>{const t=e.toLowerCase()==="bibs"||e.toLowerCase()==="no bibs"||!e?"White":e;return l(P,{className:a.teamDivisionSecond,children:[s("span",{className:a.colorTeamB,style:{background:t}}),e," (Team B)"]})};return s(T,{children:(()=>L.map(e=>{let t=[],d=[];if(e!=null&&e.teamDivision){t=e.reservedPlayersList.filter(h=>h.teamColor===(e==null?void 0:e.team1Color)),d=e.reservedPlayersList.filter(h=>h.teamColor===(e==null?void 0:e.team2Color));const i=e.reservedPlayersCount-e.reservedPlayersList.length,r=Array.from({length:i},()=>({displayName:"Add Name",teamColor:""}));e.reservedPlayersList.filter(h=>h.teamColor===null).concat(r).forEach(h=>{t.length<=d.length?t.push(h?{...h,teamColor:e.team1Color}:{displayName:"Add Name",teamColor:e.team1Color}):d.push(h?{...h,teamColor:e.team2Color}:{displayName:"Add Name",teamColor:e.team2Color})})}return l(ee,{className:N?a.mobileAccordion:a.accordion,id:e.uniqueEventId,sx:{"&:before":{display:"none"}},children:[s(ae,{expandIcon:s(G,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:l(R,{className:a.flexbox,children:[l(R,{className:a.venue,children:[s(Z,{venueName:e.venueName,date:e.date,dummyData:e.dummyData?e.dummyData:!1}),N?null:s($,{stripePaymentUrl:e.stripePaymentUrl,charges:0,date:"",uniqueEventId:e.uniqueEventId,eventId:e.eventId,reservedPlayersCount:e.reservedPlayersCount,reservedPlayersList:e.reservedPlayersList,time:"",venueLocationLink:"",venueName:e.venueName,waitListPlayers:e.waitListPlayers,waitListPlayersCount:e.waitListPlayersCount,team_division:(e==null?void 0:e.teamDivision)||!1,team1_color:e!=null&&e.team1Color?e==null?void 0:e.team1Color:"",team2_color:e!=null&&e.team2Color?e==null?void 0:e.team2Color:"",dummyData:e.dummyData?e.dummyData:!1,handlePassName:c,cityId:b,credits:e.credits?e.credits:0})]}),s(Y,{uniqueEventId:e.uniqueEventId,charges:e.charges,date:e.date,time:e.time,venueLocationLink:e.venueLocationLink,reservedPlayersCount:e.reservedPlayersCount,waitListPlayersCount:e.waitListPlayersCount,eventId:S,cityId:b,reservedPlayersList:e.reservedPlayersList,venueName:e.venueName,waitListPlayers:e.waitListPlayers,stripePaymentUrl:e.stripePaymentUrl,team_division:e.teamDivision?e.teamDivision:!1,team1_color:e.team1Color?e.team1Color:"",team2_color:e.team2Color?e.team2Color:"",dummyData:e.dummyData?e.dummyData:!1,handlePassName:c,credits:e.credits?e.credits:0})]})}),s(se,{className:p&&window.location.hash.substring(1)===e.uniqueEventId?a.blink:a.accordionDetailsContainer,children:l(P,{className:a.box,sx:{flexGrow:1},children:[l(P,{className:a.reservedPlayersContainer,children:[s(J,{className:a.reservedPlayers,children:"Reserved Players"}),m.login.isAdmin&&m.login.isLoggedIn?s(z,{className:a.editIcon,onClick:()=>o(e.uniqueEventId)}):null]}),m.login.isAdmin&&m.login.isLoggedIn&&y===e.uniqueEventId?s(v,{isOpen:M,onToggle:F,uniqueEventId:y,cityId:b,handlePassName:c}):null,e!=null&&e.teamDivision?l(P,{children:[f((e==null?void 0:e.team1Color)||"Orange"),s(j,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:e!=null&&e.teamDivision?t.map((i,r)=>n(i,r,e==null?void 0:e.dummyData)):Array.from({length:e.reservedPlayersCount/2},(i,r)=>{const u=r<e.reservedPlayersList.length?e.reservedPlayersList[r]:null;return n(u,r,e==null?void 0:e.dummyData)})}),s(J,{className:a.versus,children:"v/s"}),I((e==null?void 0:e.team2Color)||"White"),s(j,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:e!=null&&e.teamDivision?d.map((i,r)=>n(i,r,e==null?void 0:e.dummyData)):Array.from({length:e.reservedPlayersCount/2},(i,r)=>{const u=r<e.reservedPlayersList.length?e.reservedPlayersList[r+e.reservedPlayersCount/2]:null;return n(u,r+e.reservedPlayersCount/2,e==null?void 0:e.dummyData)})})]}):l(T,{children:[m.login.isAdmin&&e.dummyData&&N?s(P,{style:{width:100}}):s(P,{children:s(j,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount},(i,r)=>{const u=r<e.reservedPlayersList.length?e.reservedPlayersList[r]:null;return n(u,r,e.dummyData)})})}),m.login.isAdmin&&e.dummyData&&N?l(P,{className:N?a.portraitGroundImageContainer:a.groundImageContainer,children:[s(P,{className:a.dragContainer,children:Array.from({length:e.reservedPlayersCount},(i,r)=>{const u=r<e.reservedPlayersList.length?e.reservedPlayersList[r]:null;return n(u,r,e.dummyData)})}),s("img",{src:N?"ground.jpeg":"/ground-3d-cropped.jpeg",alt:"ground",height:670,className:N?a.portraitGroundImage:a.groundImage})]}):null]})]})})]},e.uniqueEventId)}))()})},H={data:{cities:[{cityId:"2",cityName:"Hyderabad",countryCode:"IN",dummyData:!1,currency:"INR",events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-1",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:12,waitListPlayersCount:6,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",team_division:!0,team1_color:"White",team2_color:"Blue",charges:200,reservedPlayersList:[{displayName:"Abhimanyu"},{displayName:"Sourabh"},{displayName:"Kamal"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Jasprit"},{displayName:"Naresh Kumar"},{displayName:"Kaushal"},{displayName:"Nakul"},{displayName:"Parth"},{displayName:"Himanshu"}],waitListPlayers:[{displayName:"Nitin"},{displayName:"Haridev"},{displayName:"Kiyaan"},{displayName:"Monya Amo"},{displayName:"Rolly"},{displayName:"Jhumkar"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-2",date:"Sun, Jan 01",time:"9:00PM-10:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:10,waitListPlayersCount:5,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",team_division:!1,team1_color:"",team2_color:"",charges:250,reservedPlayersList:[{displayName:"Aryan"},{displayName:"Sarvesh"},{displayName:"Saarthak"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Mayank"},{displayName:"Yash"},{displayName:"Ankur"},{displayName:"Rithik"}],waitListPlayers:[{displayName:"Harsh"},{displayName:"Lovepreet"},{displayName:"Himanshu"},{displayName:"Mohit"},{displayName:"Piyush"}],stripePaymentUrl:""}]},{cityId:"1",cityName:"Gurgaon",countryCode:"IN",currency:"INR",dummyData:!1,events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",team_division:!1,team1_color:"",team2_color:"",charges:400,reservedPlayersList:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sumesh"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Saksham"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Anubhav"},{displayName:"Saarthak"},{displayName:"Harshvardhan"},{displayName:"Astitva"},{displayName:"Rishi"},{displayName:"Rijvaan"}],waitListPlayers:[{displayName:"Mukhtaar"},{displayName:"Shubham"},{displayName:"Burhan"},{displayName:"Arif"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Nilesh"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-4",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",team_division:!1,team1_color:"",team2_color:"",charges:400,reservedPlayersList:[{displayName:"Harshdeep"},{displayName:"Sarvesh"},{displayName:"Akhilesh"},{displayName:"Sanju"},{displayName:"Prahlad"},{displayName:"Kishore"},{displayName:"Jasprit"},{displayName:"Sooraj"},{displayName:"Bunty Singh"},{displayName:"Rijwaan"},{displayName:"Ravinder"},{displayName:"Vinod"},{displayName:"Himesh"},{displayName:"Sandeep"}],waitListPlayers:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sukhwinder"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Margo"},{displayName:"Saksham"}],stripePaymentUrl:""}]},{cityId:"4",cityName:"San Jose",countryCode:"US",currency:"USD",dummyData:!1,events:[{uniqueEventId:"10-26-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Vista Montana Park",reservedPlayersCount:22,waitListPlayersCount:9,venueLocationLink:"https://goo.gl/maps/ivkhHaXWM3RBTJ5r9",team_division:!1,team1_color:"",team2_color:"",charges:8.99,reservedPlayersList:[{displayName:"Chen",points:{x:16,y:46},mobilePoints:{x:45,y:26},id:1,role:"WK"},{displayName:"Pablo",points:{x:20,y:10},mobilePoints:{x:6,y:100},id:2,role:"MF"},{displayName:"Feng",points:{x:20,y:30},mobilePoints:{x:29,y:100},id:3,role:"MF"},{displayName:"Leo",points:{x:20,y:60},mobilePoints:{x:60,y:100},id:4,role:"MF"},{displayName:"Himesh",points:{x:20,y:80},mobilePoints:{x:83,y:100},id:5,role:"MF"},{displayName:"Arturito",points:{x:27,y:10},mobilePoints:{x:6,y:170},id:6,role:"MD"},{displayName:"Diego",points:{x:27,y:30},mobilePoints:{x:29,y:170},id:7,role:"MD"},{displayName:"Mateo",points:{x:27,y:60},mobilePoints:{x:60,y:170},id:8,role:"MD"},{displayName:"Rafael",points:{x:27,y:80},mobilePoints:{x:83,y:170},id:9,role:"MD"},{displayName:"Shahin",points:{x:35,y:21},mobilePoints:{x:29,y:240},id:10,role:"A"},{displayName:"Eva",points:{x:35,y:67},mobilePoints:{x:60,y:240},id:11,role:"A"},{displayName:"Astva",points:{x:47,y:21},mobilePoints:{x:29,y:370},id:12,role:"A"},{displayName:"Rishi",points:{x:47,y:67},mobilePoints:{x:60,y:370},id:13,role:"A"},{displayName:"Frank",points:{x:56,y:10},mobilePoints:{x:6,y:440},id:14,role:"MD"},{displayName:"Ahmad",points:{x:56,y:30},mobilePoints:{x:29,y:440},id:15,role:"MD"},{displayName:"Luca",points:{x:56,y:60},mobilePoints:{x:60,y:440},id:16,role:"MD"},{displayName:"Dario",points:{x:56,y:80},mobilePoints:{x:83,y:440},id:17,role:"MD"},{displayName:"Bianca",points:{x:63,y:10},mobilePoints:{x:6,y:520},id:18,role:"MF"},{displayName:"Sharan",points:{x:63,y:30},mobilePoints:{x:29,y:520},id:19,role:"MF"},{displayName:"Ferruro",points:{x:63,y:60},mobilePoints:{x:60,y:520},id:20,role:"MF"},{displayName:"Sahil",points:{x:63,y:80},mobilePoints:{x:83,y:520},id:21,role:"MF"},{displayName:"Hitesh",points:{x:79,y:46},mobilePoints:{x:45,y:581},id:22,role:"WK"}],waitListPlayers:[{displayName:"Jiang"},{displayName:"Santiago"},{displayName:"Burhan"},{displayName:"Felipe"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Alvaro"},{displayName:"Elise"},{displayName:"Louis"}],stripePaymentUrl:""}]}]}};function _e(){const[L,S]=x.exports.useState([]),[b,k]=x.exports.useState(!0),[N,M]=x.exports.useState([]),w=U(m=>m),p=O(),D=m=>{M(o=>[...o,m])},y=m=>new Date(m.date);x.exports.useEffect(()=>{S([]);const m=new AbortController,o=m.signal;return(async()=>{try{const f=await(await fetch(re,{method:"POST",signal:o,headers:{"Content-Type":"application/json"},body:te})).json(),I=["San Francisco","San Jose","Mountain View"],C=[];f.data.cities.forEach((e,t)=>{if(K.exports.some(H.data.cities,{cityId:e.cityId}))if(e.events.length>0){const i=f.data.cities[t];i.events.sort((r,u)=>y(u).getTime()-y(r).getTime()),C.push(i)}else H.data.cities.forEach((i,r)=>{i.cityName==e.cityName&&C.push(H.data.cities[r])});else if(e.events.length>0){const i=f.data.cities[t];i.events.sort((r,u)=>y(u).getTime()-y(r).getTime()),C.push(i)}k(!1)}),C.sort((e,t)=>{const d=I.indexOf(e.cityName),i=I.indexOf(t.cityName);return d===-1&&i===-1?0:d===-1?-1:i===-1?1:d-i}),S(C)}catch(c){c instanceof Error&&c.name==="TypeError"&&console.log(c)}})(),()=>{m.abort()}},[N]);const _=()=>(L.sort(o=>o.dummyData===!1?1:-1),L.map(o=>{var c,n;return((n=(c=o==null?void 0:o.events)==null?void 0:c.filter(f=>f.testGame!==!0))==null?void 0:n.length)===0&&!w.login.isAdmin?null:s(oe,{in:!0,style:{transitionDelay:"300ms"},children:l("div",{className:p?a.mobileContainer:a.container,children:[s(E,{cityName:o.cityName,cityId:o.cityId,events:o.events,dummyData:o.dummyData,countryCode:o.countryCode}),s(ue,{gameEvent:o.events,cityName:o.cityName,cityNameId:o.cityId,addPlayerInQueue:D})]})},o.cityId)})),q=()=>b?l(ie,{spacing:1,className:a.skeletonContainer,children:[s(A,{variant:"rectangular",className:p?a.mobileSkeleton:a.skeleton}),s(A,{variant:"rectangular",className:p?a.mobileSkeleton:a.skeleton}),s(A,{variant:"rectangular",className:p?a.mobileSkeleton:a.skeleton}),s(A,{variant:"rectangular",className:p?a.mobileSkeleton:a.skeleton})]}):null;return l(T,{children:[s(V,{title:"Match Queues"}),s(J,{className:a.title,children:"Flickmatch Soccer"}),_(),q()]})}export{_e as default};
