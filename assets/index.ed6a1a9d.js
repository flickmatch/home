import{j as a,K as o,a as d,M as A}from"./loginSlice.f61746a0.js";import{C as T,V as q,J as F,E as U,a as B,P as j}from"./Cities.cc81715c.js";import{bt as J,C as M,T as u,ao as O,bC as $,u as G,bD as V,bE as R,F as I,B as p}from"./App.3a11d37d.js";import{m as z}from"./map.839e9770.js";import{g as K,m as H}from"./index.66a05933.js";import{C as Q}from"./Container.29723744.js";import{A as W,b as X,a as Y,G as Z}from"./Grid.3e50d8ef.js";import"./sweetalert2.all.19aee0ea.js";import"./TextField.0f92fb72.js";import"./Input.596bb97a.js";import"./Select.14167a20.js";import"./MenuItem.6a9b20a4.js";import"./AlertTitle.a9c2cd70.js";import"./CurrencyRupeeSharp.3a8d0b03.js";import"./Avatar.9ad24636.js";const ee="_frames_1lgq2_1",re={frames:ee};function ae(){return a(Q,{sx:{height:"100%"},children:o(J,{flexDirection:"column",children:[a("iframe",{src:K,width:"100%",height:"50%",className:re.frames,frameBorder:"0",allowFullScreen:!0}),o(M,{flexDirection:"column",children:[a(u,{sx:{mt:2},variant:"h4",color:"error",children:"404 Not Found"}),a(O,{variant:"middle"}),a(u,{variant:"h4",sx:{color:i=>i.palette.info.main},children:H[404]})]})]})})}const te="_title_16k4h_14",se="_loading_16k4h_23",ne="_parentContainer_16k4h_29",ie="_portraitContainer_16k4h_34",oe="_parent_16k4h_29",ce="_portraitParent_16k4h_42",le="_accordion_16k4h_51",de="_mobileAccordion_16k4h_57",me="_linkTag_16k4h_61",ue="_flexbox_16k4h_65",ye="_venue_16k4h_70",pe="_sportsIcon_16k4h_83",he="_box_16k4h_88",_e="_reservedPlayersContainer_16k4h_93",fe="_editIcon_16k4h_97",Pe="_reservedPlayers_16k4h_93",ge="_waitListPlayers_16k4h_116",Ie="_blink_16k4h_123",s={title:te,loading:se,parentContainer:ne,portraitContainer:ie,parent:oe,portraitParent:ce,accordion:le,mobileAccordion:de,linkTag:me,flexbox:ue,venue:ye,sportsIcon:pe,box:he,reservedPlayersContainer:_e,editIcon:fe,reservedPlayers:Pe,waitListPlayers:ge,blink:Ie},xe=`${{}.VITE_API_URL}`;function Ce(i){return/^[0-9]-\d{4}-\d{2}-\d{2}-[0-9]$/.test(i)}const Ne=async i=>{if(!Ce(i))throw new Error("Invalid uniqueEventId");try{const m=await(await fetch(xe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`query event {
          event(uniqueEventId: "${i}") {
            currency
            startTime
            endTime
            eventId
            uniqueEventId
            displayTitle
            venueLocationLink
            charges
            date
            time
            venueName
            reservedPlayersCount
            waitListPlayersCount
            stripePaymentUrl
            reservedPlayersList {
              displayName
            }
            waitListPlayers{
                displayName
            }
          }
        }
      `})})).json();if(m.errors)throw new Error(m.errors[0].message);return m.data.event}catch(c){throw c}},ke=()=>{const{id:i}=$(),c=G();V();const[m,x]=d.exports.useState(!1),[e,C]=d.exports.useState(null),[N,y]=d.exports.useState(!0),[h,_]=d.exports.useState(null),[f,k]=d.exports.useState("");d.exports.useEffect(()=>{if(!i){_("Event ID is missing."),y(!1);return}(async()=>{try{y(!0);const t=await Ne(i);k(i.substring(0,1)),C(t)}catch(t){_(t.message)}finally{y(!1)}})()},[i]),d.exports.useEffect(()=>{const r=localStorage.getItem("adminIds"),t=localStorage.getItem("userData");if(t){const n=JSON.parse(t);if(r){const S=JSON.parse(r).data.map(D=>D.EmailId).includes(n.email);x(S)}}},[]);function L(r){return(r==null?void 0:r.eventId)!==void 0&&(r==null?void 0:r.eventId)!==null?String(r.eventId):"undefined"}function E(r){return(r==null?void 0:r.reservedPlayersCount)||0}const b=!0;function P(r){const t=(r==null?void 0:r.uniqueEventId)||"",n=t!=""?t.split("-"):"";let l="99999";return l=n.length>0?n[0]:"3",l}function g(r){const t=P(r),n=z.find(l=>l.cityId.toString()===t);return n==null?void 0:n.city}const w=(r,t)=>a(j,{displayName:r?r.displayName:"Add Name",index:t},t);if(N)return a("div",{className:s.loading,children:a(R,{})});if(h)return o("div",{children:["Error: ",h]});if(!e)return a("div",{className:c?s.portraitContainer:s.parentContainer,children:a("div",{className:s.parent,children:a(ae,{})})});const v=()=>{var r;return o(A,{children:[a(u,{className:s.title,children:"Flickmatch Soccer"}),a(T,{cityId:P(e),cityName:g(e)||"",countryCode:"IN",dummyData:!1,events:[]}),o(W,{className:c?s.mobileAccordion:s.accordion,sx:{"&:before":{display:"none"}},expanded:b,children:[a(X,{"aria-controls":"panel1a-content",id:"panel1a-header",children:o(I,{className:s.flexbox,children:[o(I,{className:s.venue,children:[a(q,{venueName:e==null?void 0:e.venueName,dummyData:!1,date:e==null?void 0:e.date}),c?null:a(F,{stripePaymentUrl:(e==null?void 0:e.stripePaymentUrl)||"",charges:(e==null?void 0:e.charges)||0,date:(e==null?void 0:e.date)||"",uniqueEventId:(e==null?void 0:e.uniqueEventId)||"",eventId:L(e),reservedPlayersCount:(e==null?void 0:e.reservedPlayersCount)||0,reservedPlayersList:(e==null?void 0:e.reservedPlayersList)||[],time:(e==null?void 0:e.endTime)||"",venueLocationLink:(e==null?void 0:e.venueLocationLink)||"",venueName:(e==null?void 0:e.venueName)||"",waitListPlayers:[],waitListPlayersCount:(e==null?void 0:e.waitListPlayersCount)||0,team_division:!1,team1_color:"",team2_color:"",dummyData:!1,singleEvent:!0,cityId:f})]}),a(U,{uniqueEventId:(e==null?void 0:e.uniqueEventId)||"",charges:(e==null?void 0:e.charges)||0,date:(e==null?void 0:e.date)||"",time:(e==null?void 0:e.time)||"",venueLocationLink:(e==null?void 0:e.venueLocationLink)||"",reservedPlayersCount:(e==null?void 0:e.reservedPlayersCount)||0,waitListPlayersCount:(e==null?void 0:e.waitListPlayersCount)||0,eventId:(r=g(e))!=null?r:"",reservedPlayersList:(e==null?void 0:e.reservedPlayersList)||[],venueName:(e==null?void 0:e.venueName)||"",waitListPlayers:[],stripePaymentUrl:(e==null?void 0:e.stripePaymentUrl)||"",team_division:!1,team1_color:"",team2_color:"",dummyData:!1,cityId:f})]})}),a(Y,{className:"",children:o(p,{className:s.box,sx:{flexGrow:1},children:[o(p,{className:s.reservedPlayersContainer,children:[a(u,{className:s.reservedPlayers,children:"Reserved Players"}),m?a(B,{className:s.editIcon}):null]}),a(p,{children:a(Z,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:(e==null?void 0:e.reservedPlayersCount)||0},(t,n)=>{const l=n<E(e)?e==null?void 0:e.reservedPlayersList[n]:null;return w(l,n)})})})]})})]})]})};return a("div",{className:c?s.portraitParent:s.parent,children:v()})},Me=ke;export{Me as default};
