import{a as P,j as a,M as g,K as l,W as O}from"./loginSlice.25a195ef.js";import{l as W}from"./lodash.730ce810.js";import{M as G}from"./Meta.034e4f8a.js";import{r as H,i as R,a as J,bt as K,am as Q,B as m,T as M,H as V,b as X,u as U,F as j}from"./App.e8193daf.js";import{s,V as Z,J as z,E as Y,d as E,P as ee,C as ae}from"./Cities.1dbdd1a6.js";import{T as B}from"./TextField.a01ca8a4.js";import{A as se,a as te}from"./MenuItem.d80597fd.js";import{b as re,d as ie,c as le}from"./DialogActions.63ce89ca.js";import{G as D}from"./Grid.fe01b747.js";import{a as oe,q as de}from"./constants.70367cb1.js";import{Z as ne}from"./Zoom.0adca645.js";import{b as me,S as x}from"./Stack.9a6ffeae.js";import"./index.module.51bb9f99.js";import"./index.0ab28f11.js";import"./map.3122ebf9.js";import"./Input.436465ee.js";var T={},ce=R.exports;Object.defineProperty(T,"__esModule",{value:!0});var $=T.default=void 0,ue=ce(H()),ye=J,pe=(0,ue.default)((0,ye.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");$=T.default=pe;var q={},he=R.exports;Object.defineProperty(q,"__esModule",{value:!0});var F=q.default=void 0,Ne=he(H()),ve=J,Pe=(0,Ne.default)((0,ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");F=q.default=Pe;const fe="_playerName_18ti2_1",Se="_addButton_18ti2_5",_e="_adminModePanel_18ti2_10",Le="_adminModeTag_18ti2_14",I={playerName:fe,addButton:Se,adminModePanel:_e,adminModeTag:Le},be={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Ae=({onToggle:f,isOpen:h,uniqueEventId:L,cityId:b,handlePassName:S})=>{const A=()=>f(),[o,c]=P.exports.useState(""),[d,_]=P.exports.useState(""),[,N]=K();function n(){N.push({options:{content:a(se,{severity:"success",children:a(te,{className:I.alertTitle,children:"Player Added Successfully"})})}})}const t=()=>{!o||!d?alert("All input fields are required."):fetch("https://service.flickmatch.in/platform-0.0.1-SNAPSHOT/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`mutation {
        joinEvent(input: {
              uniqueEventId: "${L}"
              cityId: "${b}"
              player: {
                waNumber: "${d}"
                name: "${o}"
            }
        }) {
          isSuccessful
        }
    }`})}).then(i=>i.json()).then(i=>{if(i.errors)throw new Error(i.errors[0].message);S(o),n(),c(""),_("")}).catch(i=>{alert(i.message)})};return a(g,{children:a(Q,{open:h,onClose:A,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:l(m,{sx:be,children:[l(m,{className:I.adminModePanel,children:[a(M,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Add Player"}),a(V,{label:"admin mode",color:"primary",variant:"outlined",className:I.adminModeTag})]}),a(m,{className:I.playerName,children:a(B,{fullWidth:!0,label:"Player Name",id:"fullWidth",value:o,onChange:i=>c(i.target.value)})}),a(m,{children:a(B,{type:"number",fullWidth:!0,label:"Phone No.",id:"fullWidth",value:d,onChange:i=>_(i.target.value)})}),a(X,{variant:"contained",endIcon:a(F,{}),className:I.addButton,onClick:t,children:"Add Player"})]})})})},Ce=({gameEvent:f,cityName:h,cityNameId:L,addPlayerInQueue:b})=>{const S=U(),[A,o]=P.exports.useState(!1),c=O(e=>e),d=()=>{o(e=>!e)},_=e=>{b(e)},N=(e,u)=>a(ee,{displayName:e?e.displayName:"(Empty)",index:u},u),n=e=>l(m,{className:s.teamDivision,children:[a("span",{className:s.colorTeamA,style:{background:e}}),e||"White"," (Team A)"]}),t=e=>l(m,{className:s.teamDivisionSecond,children:[a("span",{className:s.colorTeamB,style:{background:e}}),e||"Blue"," (Team B)"]}),i=e=>a(Ae,{isOpen:A,onToggle:d,uniqueEventId:e,cityId:L,handlePassName:_});return a(g,{children:(()=>f.map(e=>l(re,{className:S?s.mobileAccordion:s.accordion,id:e.uniqueEventId,sx:{"&:before":{display:"none"}},children:[a(ie,{expandIcon:a($,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:l(j,{className:s.flexbox,children:[l(j,{className:s.venue,children:[a(Z,{venueName:e.venueName,date:e.date,dummyData:e.dummyData?e.dummyData:!1}),S?null:a(z,{stripePaymentUrl:e.stripePaymentUrl,charges:0,date:"",uniqueEventId:e.uniqueEventId,eventId:e.eventId,reservedPlayersCount:e.reservedPlayersCount,reservedPlayersList:e.reservedPlayersList,time:"",venueLocationLink:"",venueName:e.venueName,waitListPlayers:e.waitListPlayers,waitListPlayersCount:e.waitListPlayersCount,team_division:!1,team1_color:e.team1_color?e.team1_color:"",team2_color:e.team2_color?e.team2_color:"",dummyData:e.dummyData?e.dummyData:!1})]}),a(Y,{uniqueEventId:e.uniqueEventId,charges:e.charges,date:e.date,time:e.time,venueLocationLink:e.venueLocationLink,reservedPlayersCount:e.reservedPlayersCount,waitListPlayersCount:e.waitListPlayersCount,eventId:h,reservedPlayersList:e.reservedPlayersList,venueName:e.venueName,waitListPlayers:e.waitListPlayers,stripePaymentUrl:e.stripePaymentUrl,team_division:!1,team1_color:e.team1_color?e.team1_color:"",team2_color:e.team2_color?e.team2_color:"",dummyData:e.dummyData?e.dummyData:!1})]})}),a(le,{children:l(m,{className:s.box,sx:{flexGrow:1},children:[l(m,{className:s.reservedPlayersContainer,children:[a(M,{className:s.reservedPlayers,children:"Reserved Players"}),c.login.isAdmin&&c.login.isLoggedIn?a(E,{className:s.editIcon,onClick:d}):null]}),c.login.isAdmin&&c.login.isLoggedIn?i(e.uniqueEventId):null,e.team_division?l(m,{children:[n(e.team1_color),a(D,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount/2},(u,r)=>{const p=r<e.reservedPlayersList.length?e.reservedPlayersList[r]:null;return N(p,r)})}),a(M,{className:s.versus,children:"v/s"}),t(e.team2_color),a(D,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount/2},(u,r)=>{const p=r<e.reservedPlayersList.length?e.reservedPlayersList[r+e.reservedPlayersCount/2]:null;return N(p,r+e.reservedPlayersCount/2)})})]}):a(m,{children:a(D,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:Array.from({length:e.reservedPlayersCount},(u,r)=>{const p=r<e.reservedPlayersList.length?e.reservedPlayersList[r]:null;return N(p,r)})})})]})})]},e.uniqueEventId)))()})},w={data:{cities:[{cityId:"2",cityName:"Hyderabad",countryCode:"IN",dummyData:!1,currency:"INR",events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-1",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:12,waitListPlayersCount:6,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",team_division:!0,team1_color:"White",team2_color:"Blue",charges:200,reservedPlayersList:[{displayName:"Abhimanyu"},{displayName:"Sourabh"},{displayName:"Kamal"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Jasprit"},{displayName:"Naresh Kumar"},{displayName:"Kaushal"},{displayName:"Nakul"},{displayName:"Parth"},{displayName:"Himanshu"}],waitListPlayers:[{displayName:"Nitin"},{displayName:"Haridev"},{displayName:"Kiyaan"},{displayName:"Monya Amo"},{displayName:"Rolly"},{displayName:"Jhumkar"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-2",date:"Sun, Jan 01",time:"9:00PM-10:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:10,waitListPlayersCount:5,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",team_division:!1,team1_color:"",team2_color:"",charges:250,reservedPlayersList:[{displayName:"Aryan"},{displayName:"Sarvesh"},{displayName:"Saarthak"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Mayank"},{displayName:"Yash"},{displayName:"Ankur"},{displayName:"Rithik"}],waitListPlayers:[{displayName:"Harsh"},{displayName:"Lovepreet"},{displayName:"Himanshu"},{displayName:"Mohit"},{displayName:"Piyush"}],stripePaymentUrl:""}]},{cityId:"1",cityName:"Gurgaon",countryCode:"IN",currency:"INR",dummyData:!1,events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",team_division:!1,team1_color:"",team2_color:"",charges:400,reservedPlayersList:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sumesh"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Saksham"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Anubhav"},{displayName:"Saarthak"},{displayName:"Harshvardhan"},{displayName:"Astitva"},{displayName:"Rishi"},{displayName:"Rijvaan"}],waitListPlayers:[{displayName:"Mukhtaar"},{displayName:"Shubham"},{displayName:"Burhan"},{displayName:"Arif"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Nilesh"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-4",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",team_division:!1,team1_color:"",team2_color:"",charges:400,reservedPlayersList:[{displayName:"Harshdeep"},{displayName:"Sarvesh"},{displayName:"Akhilesh"},{displayName:"Sanju"},{displayName:"Prahlad"},{displayName:"Kishore"},{displayName:"Jasprit"},{displayName:"Sooraj"},{displayName:"Bunty Singh"},{displayName:"Rijwaan"},{displayName:"Ravinder"},{displayName:"Vinod"},{displayName:"Himesh"},{displayName:"Sandeep"}],waitListPlayers:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sukhwinder"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Margo"},{displayName:"Saksham"}],stripePaymentUrl:""}]},{cityId:"4",cityName:"San Jose",countryCode:"US",currency:"USD",dummyData:!1,events:[{uniqueEventId:"10-26-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Vista Montana Park",reservedPlayersCount:18,waitListPlayersCount:9,venueLocationLink:"https://goo.gl/maps/ivkhHaXWM3RBTJ5r9",team_division:!1,team1_color:"",team2_color:"",charges:8.99,reservedPlayersList:[{displayName:"Chen"},{displayName:"Pablo"},{displayName:"Feng"},{displayName:"Leo"},{displayName:"Himesh"},{displayName:"Arturito"},{displayName:"Diego"},{displayName:"Mateo"},{displayName:"Rafael"},{displayName:"Shahin"},{displayName:"Eva"},{displayName:"Astva"},{displayName:"Rishi"},{displayName:"Frank"},{displayName:"Ahmad"},{displayName:"Luca"},{displayName:"Dario"},{displayName:"Bianca"}],waitListPlayers:[{displayName:"Jiang"},{displayName:"Santiago"},{displayName:"Burhan"},{displayName:"Felipe"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Alvaro"},{displayName:"Elise"},{displayName:"Louis"}],stripePaymentUrl:""}]}]}};function Oe(){const[f,h]=P.exports.useState([]),[L,b]=P.exports.useState(!0),[S,A]=P.exports.useState([]),o=U(),c=n=>{A(t=>[...t,n])},d=n=>new Date(n.date);P.exports.useEffect(()=>{const n=new AbortController,t=n.signal;return(async()=>{try{const u=await(await fetch(oe,{method:"POST",signal:t,headers:{"Content-Type":"application/json"},body:de})).json();u.data.cities.forEach((r,p)=>{if(W.exports.some(w.data.cities,{cityId:r.cityId}))if(r.events.length>0){const v=u.data.cities[p];v.events.sort((y,k)=>d(k).getTime()-d(y).getTime()),h(y=>[...y,v])}else w.data.cities.forEach((v,y)=>{v.cityName==r.cityName&&h(k=>[...k,w.data.cities[y]])});else if(r.events.length>0){const v=u.data.cities[p];v.events.sort((y,k)=>d(k).getTime()-d(y).getTime()),h(y=>[...y,v])}b(!1)})}catch(C){C instanceof Error&&C.name==="TypeError"&&console.log(C)}})(),()=>{n.abort()}},[S]);const _=()=>(f.sort(t=>t.dummyData===!1?1:-1),f.map(t=>a(ne,{in:!0,style:{transitionDelay:"300ms"},children:l("div",{className:o?s.mobileContainer:s.container,children:[a(ae,{cityName:t.cityName,cityId:t.cityId,events:t.events,dummyData:t.dummyData,countryCode:t.countryCode}),a(Ce,{gameEvent:t.events,cityName:t.cityName,cityNameId:t.cityId,addPlayerInQueue:c})]})},t.cityId))),N=()=>L?l(me,{spacing:1,className:s.skeletonContainer,children:[a(x,{variant:"rectangular",className:o?s.mobileSkeleton:s.skeleton}),a(x,{variant:"rectangular",className:o?s.mobileSkeleton:s.skeleton}),a(x,{variant:"rectangular",className:o?s.mobileSkeleton:s.skeleton}),a(x,{variant:"rectangular",className:o?s.mobileSkeleton:s.skeleton})]}):null;return l(g,{children:[a(G,{title:"Match Queues"}),a(M,{className:s.title,children:"Flickmatch Soccer"}),_(),N()]})}export{Oe as default};
