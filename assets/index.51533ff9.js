import{a as p,a6 as Y,j as t,A as S,F as q}from"./loginSlice.ea7b6bcd.js";import{l as K}from"./lodash.8d197e71.js";import{M as Q}from"./Meta.92a8455c.js";import{bM as X,u as Z,T as V}from"./App.7bc3b8f6.js";import{s as a,N as W,C as E,E as B}from"./Cities.25997749.js";import{g as $,a as z,q as _}from"./sweetalert2.esm.all.f1ff4370.js";import{m as ee}from"./map.839e9770.js";import{Z as k}from"./Zoom.3be9b386.js";import{S as ae}from"./ToggleButtonGroup.a10fe06a.js";import{S as b}from"./Skeleton.003237ef.js";import"./index.module.86d27b7e.js";import"./index.f85951c6.js";import"./TextField.7e22eca8.js";import"./Input.ae88cc7e.js";import"./Select.80b19b87.js";import"./AlertTitle.0e7567d3.js";import"./MenuItem.15f04ab4.js";import"./CurrencyRupeeSharp.64cacc5b.js";import"./Avatar.29e98798.js";import"./SwitchBase.300a8783.js";const I={data:{cities:[{cityId:"2",cityName:"Hyderabad",countryCode:"IN",dummyData:!1,currency:"INR",events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-1",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:12,waitListPlayersCount:6,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",teamDivision:!0,team1Color:"Grey",team2Color:"Yellow",charges:200,reservedPlayersList:[{displayName:"Abhimanyu",teamColor:"Grey"},{displayName:"Sourabh",teamColor:"Grey"},{displayName:"Kamal",teamColor:"Grey"},{displayName:"Sahil",teamColor:"Grey"},{displayName:"Abhishek",teamColor:"Grey"},{displayName:"Harsh",teamColor:"Grey"},{displayName:"Jasprit",teamColor:"Yellow"},{displayName:"Naresh Kumar",teamColor:"Yellow"},{displayName:"Kaushal",teamColor:"Yellow"},{displayName:"Nakul",teamColor:"Yellow"},{displayName:"Parth",teamColor:"Yellow"},{displayName:"Himanshu",teamColor:"Yellow"}],waitListPlayers:[{displayName:"Nitin"},{displayName:"Haridev"},{displayName:"Kiyaan"},{displayName:"Monya Amo"},{displayName:"Rolly"},{displayName:"Jhumkar"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-2",date:"Sun, Jan 01",time:"9:00PM-10:00PM",dummyData:!0,venueName:"Bsporty",reservedPlayersCount:10,waitListPlayersCount:5,venueLocationLink:"https://maps.app.goo.gl/axDbAHPjP648u7FZA",teamDivision:!1,team1Color:"",team2Color:"",charges:250,reservedPlayersList:[{displayName:"Aryan"},{displayName:"Sarvesh"},{displayName:"Saarthak"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Harsh"},{displayName:"Mayank"},{displayName:"Yash"},{displayName:"Ankur"},{displayName:"Rithik"}],waitListPlayers:[{displayName:"Harsh"},{displayName:"Lovepreet"},{displayName:"Himanshu"},{displayName:"Mohit"},{displayName:"Piyush"}],stripePaymentUrl:""}]},{cityId:"1",cityName:"Gurgaon",countryCode:"IN",currency:"INR",dummyData:!1,events:[{uniqueEventId:"07-28-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",teamDivision:!1,team1Color:"",team2Color:"",charges:400,reservedPlayersList:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sumesh"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Saksham"},{displayName:"Sahil"},{displayName:"Abhishek"},{displayName:"Anubhav"},{displayName:"Saarthak"},{displayName:"Harshvardhan"},{displayName:"Astitva"},{displayName:"Rishi"},{displayName:"Rijvaan"}],waitListPlayers:[{displayName:"Mukhtaar"},{displayName:"Shubham"},{displayName:"Burhan"},{displayName:"Arif"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Nilesh"}],stripePaymentUrl:""},{uniqueEventId:"07-28-1-1-6",eventId:"07-28-4",date:"Sun, Jan 01",time:"8:00PM-9:00PM",dummyData:!0,venueName:"Gallant play arena south City 1",reservedPlayersCount:14,waitListPlayersCount:7,venueLocationLink:"https://maps.app.goo.gl/ebEXAjXrsUvBanyY9",teamDivision:!1,team1Color:"",team2Color:"",charges:400,reservedPlayersList:[{displayName:"Harshdeep"},{displayName:"Sarvesh"},{displayName:"Akhilesh"},{displayName:"Sanju"},{displayName:"Prahlad"},{displayName:"Kishore"},{displayName:"Jasprit"},{displayName:"Sooraj"},{displayName:"Bunty Singh"},{displayName:"Rijwaan"},{displayName:"Ravinder"},{displayName:"Vinod"},{displayName:"Himesh"},{displayName:"Sandeep"}],waitListPlayers:[{displayName:"Shubham"},{displayName:"Sahil"},{displayName:"Sukhwinder"},{displayName:"Mahendra"},{displayName:"Himesh"},{displayName:"Margo"},{displayName:"Saksham"}],stripePaymentUrl:""}]},{cityId:"4",cityName:"San Jose",countryCode:"US",currency:"USD",dummyData:!1,events:[{uniqueEventId:"10-26-1-1-6",eventId:"07-28-3",date:"Sun, Jan 01",time:"7:00PM-8:00PM",dummyData:!0,venueName:"Vista Montana Park",reservedPlayersCount:22,waitListPlayersCount:9,venueLocationLink:"https://goo.gl/maps/ivkhHaXWM3RBTJ5r9",teamDivision:!0,team1Color:"Blue",team2Color:"Orange",charges:8.99,reservedPlayersList:[{displayName:"Chen",points:{x:16,y:46},mobilePoints:{x:45,y:26},id:1,role:"WK",teamColor:"Blue"},{displayName:"Pablo",points:{x:20,y:10},mobilePoints:{x:6,y:100},id:2,role:"MF",teamColor:"Blue"},{displayName:"Feng",points:{x:20,y:30},mobilePoints:{x:29,y:100},id:3,role:"MF",teamColor:"Blue"},{displayName:"Leo",points:{x:20,y:60},mobilePoints:{x:60,y:100},id:4,role:"MF",teamColor:"Blue"},{displayName:"Himesh",points:{x:20,y:80},mobilePoints:{x:83,y:100},id:5,role:"MF",teamColor:"Blue"},{displayName:"Arturito",points:{x:27,y:10},mobilePoints:{x:6,y:170},id:6,role:"MD",teamColor:"Blue"},{displayName:"Diego",points:{x:27,y:30},mobilePoints:{x:29,y:170},id:7,role:"MD",teamColor:"Blue"},{displayName:"Mateo",points:{x:27,y:60},mobilePoints:{x:60,y:170},id:8,role:"MD",teamColor:"Blue"},{displayName:"Rafael",points:{x:27,y:80},mobilePoints:{x:83,y:170},id:9,role:"MD",teamColor:"Blue"},{displayName:"Shahin",points:{x:35,y:21},mobilePoints:{x:29,y:240},id:10,role:"A",teamColor:"Blue"},{displayName:"Eva",points:{x:35,y:67},mobilePoints:{x:60,y:240},id:11,role:"A",teamColor:"Blue"},{displayName:"Astva",points:{x:47,y:21},mobilePoints:{x:29,y:370},id:12,role:"A",teamColor:"Orange"},{displayName:"Rishi",points:{x:47,y:67},mobilePoints:{x:60,y:370},id:13,role:"A",teamColor:"Orange"},{displayName:"Frank",points:{x:56,y:10},mobilePoints:{x:6,y:440},id:14,role:"MD",teamColor:"Orange"},{displayName:"Ahmad",points:{x:56,y:30},mobilePoints:{x:29,y:440},id:15,role:"MD",teamColor:"Orange"},{displayName:"Luca",points:{x:56,y:60},mobilePoints:{x:60,y:440},id:16,role:"MD",teamColor:"Orange"},{displayName:"Dario",points:{x:56,y:80},mobilePoints:{x:83,y:440},id:17,role:"MD",teamColor:"Orange"},{displayName:"Bianca",points:{x:63,y:10},mobilePoints:{x:6,y:520},id:18,role:"MF",teamColor:"Orange"},{displayName:"Sharan",points:{x:63,y:30},mobilePoints:{x:29,y:520},id:19,role:"MF",teamColor:"Orange"},{displayName:"Ferruro",points:{x:63,y:60},mobilePoints:{x:60,y:520},id:20,role:"MF",teamColor:"Orange"},{displayName:"Sahil",points:{x:63,y:80},mobilePoints:{x:83,y:520},id:21,role:"MF",teamColor:"Orange"},{displayName:"Hitesh",points:{x:79,y:46},mobilePoints:{x:45,y:581},id:22,role:"WK",teamColor:"Orange"}],waitListPlayers:[{displayName:"Jiang"},{displayName:"Santiago"},{displayName:"Burhan"},{displayName:"Felipe"},{displayName:"Arihant"},{displayName:"John"},{displayName:"Alvaro"},{displayName:"Elise"},{displayName:"Louis"}],stripePaymentUrl:""}]}]}};function A(o){const l=(o==null?void 0:o.uniqueEventId)||"",r=l!=""?l.split("-"):"";let u="99999";return u=r.length>0?r[0]:"3",u}function F(o){const l=A(o),r=ee.find(u=>u.cityId.toString()===l);return r==null?void 0:r.city}function fe(){const[o,l]=p.exports.useState([]),[r,u]=p.exports.useState(!0),[H,O]=p.exports.useState([]),g=Y(i=>i),{id:c}=X(),[n,J]=p.exports.useState(null),[j,G]=p.exports.useState(null);p.exports.useEffect(()=>{c&&$(c,G).then(i=>{i?J(i):console.error(`No event found with ID: ${c}`)}).catch(i=>{console.error(i)})},[c]);const m=Z(),L=i=>{O(e=>[...e,i])},x=i=>new Date(i.date);p.exports.useEffect(()=>{l([]);const i=new AbortController,e=i.signal;return(async()=>{try{const h=await(await fetch(z,{method:"POST",signal:e,headers:{"Content-Type":"application/json"},body:_})).json(),w=["San Francisco","San Jose","Mountain View"],v=[];h.data.cities.forEach((d,f)=>{const C=K.exports.some(I.data.cities,{cityId:d.cityId}),N=d.events.filter(s=>s.testGame===!1);if(C)if(d.events.length>0){if(g.login.isAdmin||N.length>0){const s=h.data.cities[f];s.events.sort((P,D)=>x(D).getTime()-x(P).getTime()),v.push(s)}}else I.data.cities.forEach((s,P)=>{s.cityName==d.cityName&&v.push(I.data.cities[P])});else if(d.events.length>0&&(g.login.isAdmin||N.length>0)){const s=h.data.cities[f];s.events.sort((P,D)=>x(D).getTime()-x(P).getTime()),v.push(s)}u(!1)}),v.sort((d,f)=>{const C=w.indexOf(d.cityName),N=w.indexOf(f.cityName);return C===-1&&N===-1?0:C===-1?-1:N===-1?1:C-N}),l(v)}catch(y){y instanceof Error&&y.name==="TypeError"&&console.log(y)}})(),()=>{i.abort()}},[H,g.login.isAdmin]);const R=()=>n?t(k,{in:!0,style:{transitionDelay:"300ms"},children:S("div",{className:m?a.mobileContainer:a.container,children:[t(E,{cityId:A(n),cityName:F(n)||"",countryCode:"IN",dummyData:!1,events:[]}),t(B,{gameEvent:[n],cityName:F(n)||"",cityNameId:A(n)||"",addPlayerInQueue:L,eventPage:!0})]})}):(o.sort(e=>e.dummyData===!1?1:-1),o.map(e=>{var y,M;return((M=(y=e==null?void 0:e.events)==null?void 0:y.filter(h=>h.testGame!==!0))==null?void 0:M.length)===0&&!g.login.isAdmin?null:t(k,{in:!0,style:{transitionDelay:"300ms"},children:S("div",{className:m?a.mobileContainer:a.container,children:[t(E,{cityName:e.cityName,cityId:e.cityId,events:e.events,dummyData:e.dummyData,countryCode:e.countryCode}),t(B,{gameEvent:e.events,cityName:e.cityName,cityNameId:e.cityId,addPlayerInQueue:L,eventPage:!1})]})},e.cityId)})),T=()=>r?S(ae,{spacing:1,className:a.skeletonContainer,children:[t(b,{variant:"rectangular",className:m?a.mobileSkeleton:a.skeleton}),t(b,{variant:"rectangular",className:m?a.mobileSkeleton:a.skeleton}),t(b,{variant:"rectangular",className:m?a.mobileSkeleton:a.skeleton}),t(b,{variant:"rectangular",className:m?a.mobileSkeleton:a.skeleton})]}):null;return c&&!n&&j?t(k,{in:!0,style:{transitionDelay:"300ms"},children:t("div",{className:m?a.portraitContainer:a.parentContainer,children:t("div",{className:a.parent,children:t(W,{})})})}):S(q,{children:[t(Q,{title:"Match Queues"}),t(V,{className:a.title,children:"Flickmatch Soccer"}),R(),T()]})}export{fe as default};
